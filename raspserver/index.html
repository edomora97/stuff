<html>
  <head>
    <title>RaspServer</title>
    <meta charset="utf8">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="bootstrap-theme.min.css" rel="stylesheet">
  </head>
  <body class="container">
    <script src="js/jquery-2.1.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <div class="page-header">
      <h1>Raspberry Server</h1>
    </div>
    <div class="col-md-3">
      <h2>Load</h2>
      <table class="table table-bordered">
        <tr>
          <td>Last minute:</td> <td id="load-1m"><i style="font-size: 0.7em">loading...</i></td>
        </tr>
        <tr>
          <td>Last 5 minutes:</td> <td id="load-5m"><i style="font-size: 0.7em">loading...</i></td>
        </tr>
        <tr>
          <td>Last 15 minutes:</td> <td id="load-15m"><i style="font-size: 0.7em">loading...</i></td>
        </tr>
      </table>
    </div>

    <div class="col-md-5">
      <h2>Disk</h2>
      <table id="disk" class="table table-bordered">
        <thead>
          <tr>
            <th>Device</th>
            <th>size</th>
            <th>used</th>
            <th>free</th>
            <th>perc</th>
            <th>mount</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>

    <div class="col-md-4">
      <h2>Time</h2>
      <div class="panel panel-default"><div class="panel-body">
        <p>Server time: <span id="time">loading...</span>
        <p>Server uptime: <span id="uptime">loading...</time>
      </div></div>
    </div>

    <div class="clearfix"></div>

    <div class="col-md-12">
      <h2>Users <button id="refresh-users" class="btn btn-xs btn-success pull-right">refresh</button></h2>
      <table id="users" class="table table-striped table-bordered table-hover">
        <thead>
          <tr>
            <th>User</th>
            <th>tty</th>
            <th>from</th>
            <th>when</th>
            <th>idle</th>
            <th>jcpu</th>
            <th>pcpu</th>
            <th>what</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>

    <div class="clearfix"></div>

    <div class="col-md-12">
      <h2>Processes <button id="refresh-process" class="btn btn-xs btn-success pull-right">refresh</button></h2>
      <table id="process" class="table table-striped table-bordered table-hover">
        <thead>
          <tr>
            <th>User</th>
            <th>pid</th>
            <th>cpu</th>
            <th>mem</th>
            <th>tty</th>
            <th>start</th>
            <th>time</th>
            <th>command</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>

  </body>
  <script src="script.js"></script>
  <script>
	getCPULoad();
	getTime();
	getUptime();
  	setInterval(getCPULoad, 2000);
    setInterval(getTime, 2000);
    setInterval(getUptime, 2000);
    getUsers();
    getProcesses();
    getDisk();
    
    $("#refresh-users").click(getUsers);
    $("#refresh-process").click(getProcesses);
  </script>
</html>
